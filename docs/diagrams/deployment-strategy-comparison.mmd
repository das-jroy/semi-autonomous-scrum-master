flowchart TD
    %% Main Decision Point
    Start([ğŸ¤” Choose Deployment Strategy]) --> Question1{How many projects?}
    
    %% Project Count Decision
    Question1 -->|1-3 projects| ForkPath[Consider Fork-Per-Project]
    Question1 -->|4-10 projects| MixedPath[Consider Central or PR]
    Question1 -->|10+ projects| CentralPath[Strong â†’ Central Orchestration]
    
    %% Fork-Per-Project Branch
    ForkPath --> Question2{Need deep code integration?}
    Question2 -->|Yes| ForkStrategy[ğŸ”„ Fork-Per-Project]
    Question2 -->|No| MixedPath
    
    %% Mixed Path Decision
    MixedPath --> Question3{Who maintains it?}
    Question3 -->|Individual teams| ForkStrategy
    Question3 -->|DevOps team| CentralStrategy[ğŸ¯ Central Orchestration]
    Question3 -->|Mixed adoption| PRStrategy[ğŸ”€ PR Integration]
    
    %% Central Path
    CentralPath --> CentralStrategy
    
    %% Strategy Details
    subgraph Central [ğŸ¯ Central Orchestration]
        direction TB
        CentPro["âœ… Multi-project management<br/>âœ… Centralized configuration<br/>âœ… No target repo pollution<br/>âœ… Enterprise scalability<br/>âœ… Cross-project insights"]
        CentCon["âŒ Complex permissions<br/>âŒ Network dependency<br/>âŒ Setup overhead"]
        CentUse["ğŸ¢ Enterprise environments<br/>ğŸ‘¥ Dedicated DevOps teams<br/>ğŸ“Š Consistent practices"]
    end
    
    subgraph Fork [ğŸ”„ Fork-Per-Project]
        direction TB
        ForkPro["âœ… Deep integration<br/>âœ… Self-contained<br/>âœ… Simple permissions<br/>âœ… Rich Copilot context<br/>âœ… Team ownership"]
        ForkCon["âŒ Repository bloat<br/>âŒ Update complexity<br/>âŒ Version drift<br/>âŒ Maintenance burden"]
        ForkUse["ğŸ‘¨â€ğŸ’» Individual teams<br/>ğŸ”— Deep code integration<br/>ğŸ  Self-contained repos"]
    end
    
    subgraph PR [ğŸ”€ PR Integration]
        direction TB
        PRPro["âœ… Minimal footprint<br/>âœ… Easy adoption<br/>âœ… Gradual rollout<br/>âœ… Package-based<br/>âœ… Optional integration"]
        PRCon["âŒ Dependency management<br/>âŒ Update friction<br/>âŒ Version conflicts<br/>âŒ Approval required"]
        PRUse["ğŸ“¦ Package distribution<br/>ğŸŒŠ Gradual adoption<br/>âš–ï¸ Mixed environments"]
    end
    
    %% Implementation Examples
    CentralStrategy --> CentralImpl["`**Implementation:**
    configs/project-alpha.yml
    .github/workflows/orchestrate-*.yml
    Multi-project dashboard`"]
    
    ForkStrategy --> ForkImpl["`**Implementation:**
    project/scrum-master/
    .scrum-config.yml
    Deep codebase integration`"]
    
    PRStrategy --> PRImpl["`**Implementation:**
    @copilot/scrum-master package
    Minimal .github/workflows/
    PR-based distribution`"]
    
    %% Current Script Usage
    subgraph Scripts [ğŸ“œ Our 41+ Scripts Usage]
        direction LR
        ScriptCentral["Central: Multi-project execution<br/>./scripts/setup/setup-project.sh --target-repo=org/project"]
        ScriptFork["Fork: Local execution<br/>./scrum-master/scripts/setup/setup-project.sh"]
        ScriptPR["PR: Package commands<br/>npx @copilot/scrum-master setup"]
    end
    
    CentralImpl -.-> ScriptCentral
    ForkImpl -.-> ScriptFork
    PRImpl -.-> ScriptPR
    
    %% Styling
    classDef strategyBox fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    classDef proBox fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px
    classDef conBox fill:#ffebee,stroke:#c62828,stroke-width:2px
    classDef useBox fill:#fff3e0,stroke:#ef6c00,stroke-width:2px
    classDef implBox fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    
    class Central,Fork,PR strategyBox
    class CentPro,ForkPro,PRPro proBox
    class CentCon,ForkCon,PRCon conBox
    class CentUse,ForkUse,PRUse useBox
    class CentralImpl,ForkImpl,PRImpl,Scripts implBox
